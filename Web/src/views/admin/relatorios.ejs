<%- include('../layouts/top', {
  active,
  title: 'HOME CARE ‚Äî Relat√≥rios',
  pageCss: ['/public/css/admin_css/pages/relatorios.css']
}) %>

<div class="reports">
  <!-- ==== MENU LATERAL DE RELAT√ìRIOS ==== -->
  <aside class="reports__aside card">
    <h3>Relat√≥rios</h3>

    <div class="report-grid">
      <button class="report-item" data-panel="users">
        <i class="icon">üë§</i> Relat√≥rio de Usu√°rios &rsaquo;
      </button>
      <button class="report-item" data-panel="appointments">
        <i class="icon">üìÖ</i> Relat√≥rio de Agendamentos &rsaquo;
      </button>
      <button class="report-item" data-panel="care">
        <i class="icon">ü©∫</i> Relat√≥rio de Atendimentos &rsaquo;
      </button>
    </div>

    <!-- ==== BUSCA DE PACIENTES ==== -->
    <div class="patient-search">
      <h4>Paciente</h4>
      <input class="input" id="patientQuery" placeholder="Buscar por nome / e-mail" />
      <ul class="list patients" id="patientList"></ul>
    </div>
  </aside>

  <!-- ==== CONTE√öDO PRINCIPAL ==== -->
  <section class="reports__content">
    <div class="card">
      <h2 id="patientTitle" class="section-title">Selecione um paciente</h2>

      <!-- ==== PAINEL DE DETALHES DO PACIENTE ==== -->
      <div id="patientDetails" class="hidden">
        <div class="tabs">
          <button class="tab active" data-tab="evaluations">Avalia√ß√µes</button>
          <button class="tab" data-tab="files">Exames / Prontu√°rios</button>
        </div>

        <!-- ==== AVALIA√á√ïES ==== -->
        <div class="tab-pane is-visible" id="tab-evaluations">
          <div id="evalList" class="list eval-list"></div>

          <div class="add-eval">
            <h4>Adicionar Avalia√ß√£o do Atendimento</h4>
            <div class="row">
              <select class="input" id="evalScore">
                <option value="5">5 - Excelente</option>
                <option value="4">4 - Bom</option>
                <option value="3">3 - Regular</option>
                <option value="2">2 - Ruim</option>
                <option value="1">1 - P√©ssimo</option>
              </select>
              <input class="input" id="evalNotes" placeholder="Observa√ß√µes (opcional)" />
              <button class="btn btn-primary" id="evalSave">Salvar</button>
            </div>
          </div>
        </div>

        <!-- ==== EXAMES / PRONTU√ÅRIOS ==== -->
        <div class="tab-pane" id="tab-files">
          <div class="uploader">
            <h4>Enviar arquivo de exame / prontu√°rio</h4>
            <div class="row">
              <input type="file" id="fileInput" />
              <button class="btn btn-primary" id="btnUpload">Carregar Arquivo</button>
            </div>
            <p class="muted">Formatos aceitos: PDF, JPG, PNG, DOCX.</p>
          </div>
          <ul class="list" id="fileList"></ul>
        </div>
      </div>

      <!-- ==== PAINEL DE RELAT√ìRIOS GERAIS ==== -->
      <div id="panelOutput" class="mt">
        <div class="muted">Escolha um relat√≥rio no menu lateral para exibir os dados.</div>
      </div>
    </div>
  </section>
</div>

<!-- ==== MOCK DE DADOS (TEMPOR√ÅRIO PARA FRONT) ==== -->
<script>
  window.__USERS__ = [
    { id: 1, name: 'Admin Master', role: 'ADMIN', email: 'admin@exemplo.com' },
    { id: 2, name: 'Dra. Juliana Costa', role: 'MEDICO', email: 'juliana@exemplo.com' },
    { id: 3, name: 'Jorge Cardoso', role: 'ATENDENTE', email: 'jorge@exemplo.com' },
    { id: 4, name: 'Maria Pereira', role: 'USUARIO', email: 'maria@exemplo.com' },
    { id: 5, name: 'Lucas Moraes', role: 'USUARIO', email: 'lucas@exemplo.com' }
  ];
</script>

<!-- ==== LINK DO JS DA P√ÅGINA ==== -->
<script src="/public/js/reports.js"></script>

<%- include('../layouts/bottom') %>
